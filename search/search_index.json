{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u5173\u4e8e \u8fd9\u662fbrook\u7684wiki\uff0c\u5e73\u65f6\u6536\u96c6\u7684\u5185\u5bb9\u4f1a\u5728\u8fd9\u4e2a\u5730\u65b9\u66f4\u65b0 \u5bfc\u822a python \u51fd\u6570\u5f0f\u7f16\u7a0b asyncio","title":"Home"},{"location":"#_1","text":"\u8fd9\u662fbrook\u7684wiki\uff0c\u5e73\u65f6\u6536\u96c6\u7684\u5185\u5bb9\u4f1a\u5728\u8fd9\u4e2a\u5730\u65b9\u66f4\u65b0","title":"\u5173\u4e8e"},{"location":"#_2","text":"python \u51fd\u6570\u5f0f\u7f16\u7a0b asyncio","title":"\u5bfc\u822a"},{"location":"python_asyncio/","text":"\u57fa\u672c\u6982\u5ff5 future future\u662f\u4e00\u4e2a\u6570\u636e\u7ed3\u6784\uff0c\u8868\u793a\u8fd8\u672a\u5b8c\u6210\u7684\u5de5\u4f5c\u7ed3\u679c\u3002\u4e8b\u4ef6\u5faa\u73af\u53ef\u4ee5\u76d1\u89c6 Future\u5bf9\u8c61\u662f\u5426\u5b8c\u6210 \u3002\u4ece\u800c\u5141\u8bb8\u5e94\u7528\u7684\u4e00\u90e8\u5206\u7b49\u5f85\u53e6\u4e00\u90e8\u5206\u5b8c\u6210\u4e00\u4e9b\u5de5\u4f5c\u3002 Task task\u662f Future\u7684\u4e00\u4e2a\u5b50\u7c7b \uff0c\u5b83\u77e5\u9053\u5982\u4f55 \u5305\u88c5\u548c\u7ba1\u7406\u4e00\u4e2a\u534f\u7a0b\u7684\u6267\u884c \u3002\u4efb\u52a1\u6240\u9700\u7684\u8d44\u6e90\u53ef\u7528\u65f6\uff0c\u4e8b\u4ef6\u5faa\u73af\u4f1a\u8c03\u5ea6\u4efb\u52a1\uff0c\u5e76\u751f\u6210\u4e00\u4e2a\u7ed3\u679c\uff0c\u4ece\u800c\u53ef\u4ee5 \u7531\u5176\u4ed6\u534f\u7a0b\u6d88\u8d39 \u3002 \u4efb\u52a1\uff08Task\uff09\u662f\u4e0e\u4e8b\u4ef6\u5faa\u73af\u4ea4\u4e92\u7684\u4e3b\u8981\u9014\u5f84\u4e4b\u4e00\u3002\u4efb\u52a1\u53ef\u4ee5\u5305\u88c5\u534f\u7a0b\uff0c\u53ef\u4ee5\u8ddf\u8e2a\u534f\u7a0b\u4f55\u65f6\u5b8c\u6210\u3002\u4efb\u52a1\u662fFuture\u7684\u5b50\u7c7b\uff0c\u6240\u4ee5\u4f7f\u7528\u65b9\u6cd5\u548cfuture\u4e00\u6837\u3002\u534f\u7a0b\u53ef\u4ee5\u7b49\u5f85\u4efb\u52a1\uff0c\u6bcf\u4e2a\u4efb\u52a1\u90fd\u6709\u4e00\u4e2a\u7ed3\u679c\uff0c\u5728\u5b83\u5b8c\u6210\u4e4b\u540e\u53ef\u4ee5\u83b7\u53d6\u8fd9\u4e2a\u7ed3\u679c\u3002\u56e0\u4e3a\u534f\u7a0b\u662f\u6ca1\u6709\u72b6\u6001\u7684\uff0c\u6211\u4eec\u901a\u8fc7\u4f7f\u7528create_task\u65b9\u6cd5\u53ef\u4ee5\u5c06\u534f\u7a0b\u5305\u88c5\u6210\u6709\u72b6\u6001\u7684\u4efb\u52a1\u3002\u8fd8\u53ef\u4ee5\u5728\u4efb\u52a1\u8fd0\u884c\u7684\u8fc7\u7a0b\u4e2d\u53d6\u6d88\u4efb\u52a1\u3002 import asyncio async def child(): print( \u8fdb\u5165\u5b50\u534f\u7a0b ) return the result async def main(loop): print( \u5c06\u534f\u7a0bchild\u5305\u88c5\u6210\u4efb\u52a1 ) task = loop.create_task(child()) print( \u901a\u8fc7cancel\u65b9\u6cd5\u53ef\u4ee5\u53d6\u6d88\u4efb\u52a1 ) task.cancel() try: await task except asyncio.CancelledError: print( \u53d6\u6d88\u4efb\u52a1\u629b\u51faCancelledError\u5f02\u5e38 ) else: print( \u83b7\u53d6\u4efb\u52a1\u7684\u7ed3\u679c , task.result()) if __name__ == '__main__': loop = asyncio.get_event_loop() try: loop.run_until_complete(main(loop)) finally: loop.close() \u53e6\u5916\u51fa\u4e86\u4f7f\u7528loop.create_task\u5c06\u534f\u7a0b\u5305\u88c5\u4e3a\u4efb\u52a1\u5916\u8fd8\u53ef\u4ee5\u4f7f\u7528asyncio.ensure_future(coroutine)\u5efa\u4e00\u4e2atask\u3002\u5728python3.7\u4e2d\u53ef\u4ee5\u4f7f\u7528asyncio.create_task\u521b\u5efa\u4efb\u52a1\u3002 \u542f\u52a8\u4e00\u4e2a\u534f\u7a0b \u4e00\u822c\u5bf9\u4e8e \u5165\u53e3\u51fd\u6570 \uff0c\u6700\u7b80\u7b54\u7684\u65b9\u6cd5\u5c31\u662f\u4f7f\u7528 run_until_complete()\uff0c\u5e76\u5c06\u534f\u7a0b\u76f4\u63a5\u4f20\u5165\u8fd9\u4e2a\u65b9\u6cd5 \u3002 import asyncio async def foo(): print( \u8fd9\u662f\u4e00\u4e2a\u534f\u7a0b ) if __name__ == '__main__': loop = asyncio.get_event_loop() try: print( \u5f00\u59cb\u8fd0\u884c\u534f\u7a0b ) coro = foo() print( \u8fdb\u5165\u4e8b\u4ef6\u5faa\u73af ) loop.run_until_complete(coro) finally: print( \u5173\u95ed\u4e8b\u4ef6\u5faa\u73af ) loop.close() async for\u7684\u4f7f\u7528 import random import asyncio async def random_number_gen(delay, start, end): while True: yield random.randint(start, end) await asyncio.sleep(delay) async def main(): async for i in random_number_gen(1, 0, 100): print(i) try: print( Starting to print out random numbers... ) print( Shut down the application with Ctrl+C ) asyncio.run(main()) except KeyboardInterrupt: print( Closed the main loop.. )","title":"Python asyncio"},{"location":"python_asyncio/#_1","text":"future future\u662f\u4e00\u4e2a\u6570\u636e\u7ed3\u6784\uff0c\u8868\u793a\u8fd8\u672a\u5b8c\u6210\u7684\u5de5\u4f5c\u7ed3\u679c\u3002\u4e8b\u4ef6\u5faa\u73af\u53ef\u4ee5\u76d1\u89c6 Future\u5bf9\u8c61\u662f\u5426\u5b8c\u6210 \u3002\u4ece\u800c\u5141\u8bb8\u5e94\u7528\u7684\u4e00\u90e8\u5206\u7b49\u5f85\u53e6\u4e00\u90e8\u5206\u5b8c\u6210\u4e00\u4e9b\u5de5\u4f5c\u3002 Task task\u662f Future\u7684\u4e00\u4e2a\u5b50\u7c7b \uff0c\u5b83\u77e5\u9053\u5982\u4f55 \u5305\u88c5\u548c\u7ba1\u7406\u4e00\u4e2a\u534f\u7a0b\u7684\u6267\u884c \u3002\u4efb\u52a1\u6240\u9700\u7684\u8d44\u6e90\u53ef\u7528\u65f6\uff0c\u4e8b\u4ef6\u5faa\u73af\u4f1a\u8c03\u5ea6\u4efb\u52a1\uff0c\u5e76\u751f\u6210\u4e00\u4e2a\u7ed3\u679c\uff0c\u4ece\u800c\u53ef\u4ee5 \u7531\u5176\u4ed6\u534f\u7a0b\u6d88\u8d39 \u3002 \u4efb\u52a1\uff08Task\uff09\u662f\u4e0e\u4e8b\u4ef6\u5faa\u73af\u4ea4\u4e92\u7684\u4e3b\u8981\u9014\u5f84\u4e4b\u4e00\u3002\u4efb\u52a1\u53ef\u4ee5\u5305\u88c5\u534f\u7a0b\uff0c\u53ef\u4ee5\u8ddf\u8e2a\u534f\u7a0b\u4f55\u65f6\u5b8c\u6210\u3002\u4efb\u52a1\u662fFuture\u7684\u5b50\u7c7b\uff0c\u6240\u4ee5\u4f7f\u7528\u65b9\u6cd5\u548cfuture\u4e00\u6837\u3002\u534f\u7a0b\u53ef\u4ee5\u7b49\u5f85\u4efb\u52a1\uff0c\u6bcf\u4e2a\u4efb\u52a1\u90fd\u6709\u4e00\u4e2a\u7ed3\u679c\uff0c\u5728\u5b83\u5b8c\u6210\u4e4b\u540e\u53ef\u4ee5\u83b7\u53d6\u8fd9\u4e2a\u7ed3\u679c\u3002\u56e0\u4e3a\u534f\u7a0b\u662f\u6ca1\u6709\u72b6\u6001\u7684\uff0c\u6211\u4eec\u901a\u8fc7\u4f7f\u7528create_task\u65b9\u6cd5\u53ef\u4ee5\u5c06\u534f\u7a0b\u5305\u88c5\u6210\u6709\u72b6\u6001\u7684\u4efb\u52a1\u3002\u8fd8\u53ef\u4ee5\u5728\u4efb\u52a1\u8fd0\u884c\u7684\u8fc7\u7a0b\u4e2d\u53d6\u6d88\u4efb\u52a1\u3002 import asyncio async def child(): print( \u8fdb\u5165\u5b50\u534f\u7a0b ) return the result async def main(loop): print( \u5c06\u534f\u7a0bchild\u5305\u88c5\u6210\u4efb\u52a1 ) task = loop.create_task(child()) print( \u901a\u8fc7cancel\u65b9\u6cd5\u53ef\u4ee5\u53d6\u6d88\u4efb\u52a1 ) task.cancel() try: await task except asyncio.CancelledError: print( \u53d6\u6d88\u4efb\u52a1\u629b\u51faCancelledError\u5f02\u5e38 ) else: print( \u83b7\u53d6\u4efb\u52a1\u7684\u7ed3\u679c , task.result()) if __name__ == '__main__': loop = asyncio.get_event_loop() try: loop.run_until_complete(main(loop)) finally: loop.close() \u53e6\u5916\u51fa\u4e86\u4f7f\u7528loop.create_task\u5c06\u534f\u7a0b\u5305\u88c5\u4e3a\u4efb\u52a1\u5916\u8fd8\u53ef\u4ee5\u4f7f\u7528asyncio.ensure_future(coroutine)\u5efa\u4e00\u4e2atask\u3002\u5728python3.7\u4e2d\u53ef\u4ee5\u4f7f\u7528asyncio.create_task\u521b\u5efa\u4efb\u52a1\u3002 \u542f\u52a8\u4e00\u4e2a\u534f\u7a0b \u4e00\u822c\u5bf9\u4e8e \u5165\u53e3\u51fd\u6570 \uff0c\u6700\u7b80\u7b54\u7684\u65b9\u6cd5\u5c31\u662f\u4f7f\u7528 run_until_complete()\uff0c\u5e76\u5c06\u534f\u7a0b\u76f4\u63a5\u4f20\u5165\u8fd9\u4e2a\u65b9\u6cd5 \u3002 import asyncio async def foo(): print( \u8fd9\u662f\u4e00\u4e2a\u534f\u7a0b ) if __name__ == '__main__': loop = asyncio.get_event_loop() try: print( \u5f00\u59cb\u8fd0\u884c\u534f\u7a0b ) coro = foo() print( \u8fdb\u5165\u4e8b\u4ef6\u5faa\u73af ) loop.run_until_complete(coro) finally: print( \u5173\u95ed\u4e8b\u4ef6\u5faa\u73af ) loop.close()","title":"\u57fa\u672c\u6982\u5ff5"},{"location":"python_asyncio/#async-for","text":"import random import asyncio async def random_number_gen(delay, start, end): while True: yield random.randint(start, end) await asyncio.sleep(delay) async def main(): async for i in random_number_gen(1, 0, 100): print(i) try: print( Starting to print out random numbers... ) print( Shut down the application with Ctrl+C ) asyncio.run(main()) except KeyboardInterrupt: print( Closed the main loop.. )","title":"async for\u7684\u4f7f\u7528"},{"location":"python_function_style/","text":"\u8d44\u6599\u6765\u6e90\uff1a https://github.com/oldratlee/translations/blob/master/a-practical-introduction-to-functional-programming/README.md \u51fd\u6570\u5f0f\u7f16\u7a0b \u51fd\u6570\u5f0f\u7f16\u7a0b\u7684\u7279\u8d28\uff1a \u4e0d\u53ef\u53d8\u6570\u636e1\uff08immutable data\uff09\u3001\u4e00\u7b49\u516c\u6c11\u7684\u51fd\u65702\uff08first class function\uff09\u548c\u5c3e\u8c03\u7528\u4f18\u53163\uff08tail call optimisation\uff09\u3002\u8fd9\u4e9b\u662f\u6709\u52a9\u4e8e\u51fd\u6570\u5f0f\u7f16\u7a0b\u7684\u8bed\u8a00\u7279\u6027\u3002 map\u3001reduce\u3001\u7ba1\u9053\u3001\u9012\u5f52\uff08recursing\uff09\u3001\u67ef\u91cc\u53164\uff08currying\uff09\u4ee5\u53ca\u9ad8\u9636\u51fd\u6570\u7684\u4f7f\u7528\u3002\u8fd9\u4e9b\u662f\u7528\u4e8e\u7f16\u5199\u51fd\u6570\u5f0f\u4ee3\u7801\u7684\u7f16\u7a0b\u6280\u672f\u3002 \u5e76\u884c\u53165\uff08parallelization\uff09\u3001\u60f0\u6027\u6c42\u503c6\uff08lazy evaluation\uff09\u548c\u786e\u5b9a\u60277\uff08determinism\uff09\u3002\u8fd9\u4e9b\u662f\u51fd\u6570\u5f0f\u7a0b\u5e8f\u7684\u4f18\u70b9\u3002 \u6838\u5fc3\u601d\u60f3 \u65e0\u89c6\u8fd9\u4e00\u5207\u3002\u51fd\u6570\u5f0f\u4ee3\u7801\u7684\u6838\u5fc3\u7279\u8d28\u5c31\u4e00\u6761\uff1a \u65e0\u526f\u4f5c\u7528\uff08the absence of side effects\uff09 \u3002\u5373\u4ee3\u7801\u903b\u8f91\u4e0d\u4f9d\u8d56\u4e8e\u5f53\u524d\u51fd\u6570\u4e4b\u5916\u7684\u6570\u636e\uff0c\u5e76\u4e14\u4e5f\u4e0d\u4f1a\u66f4\u6539\u5f53\u524d\u51fd\u6570\u4e4b\u5916\u7684\u6570\u636e\u3002\u6240\u6709\u5176\u4ed6\u7684\u300e\u51fd\u6570\u5f0f\u300f\u7279\u8d28\u90fd\u53ef\u4ee5\u4ece\u8fd9\u4e00\u6761\u6d3e\u751f\u51fa\u6765\u3002\u5728\u4f60\u5b66\u4e60\u8fc7\u7a0b\u4e2d\uff0c\u8bf7\u4ee5\u6b64\u4f5c\u4e3a\u6307\u5357\u9488\u3002 \u975e\u51fd\u6570\u5f0f a = 0 def increment(): global a a += 1 \u51fd\u6570\u5f0f def increment(a): return a + 1 f-string val = 'Geeks' print(f {val}for{val} is a portal for {val}. ) name = 'Tushar' age = 23 print(f Hello, My name is {name} and I'm {age} years old. )","title":"\u51fd\u6570\u5f0f"},{"location":"python_function_style/#_1","text":"https://github.com/oldratlee/translations/blob/master/a-practical-introduction-to-functional-programming/README.md","title":"\u8d44\u6599\u6765\u6e90\uff1a"},{"location":"python_function_style/#_2","text":"\u51fd\u6570\u5f0f\u7f16\u7a0b\u7684\u7279\u8d28\uff1a \u4e0d\u53ef\u53d8\u6570\u636e1\uff08immutable data\uff09\u3001\u4e00\u7b49\u516c\u6c11\u7684\u51fd\u65702\uff08first class function\uff09\u548c\u5c3e\u8c03\u7528\u4f18\u53163\uff08tail call optimisation\uff09\u3002\u8fd9\u4e9b\u662f\u6709\u52a9\u4e8e\u51fd\u6570\u5f0f\u7f16\u7a0b\u7684\u8bed\u8a00\u7279\u6027\u3002 map\u3001reduce\u3001\u7ba1\u9053\u3001\u9012\u5f52\uff08recursing\uff09\u3001\u67ef\u91cc\u53164\uff08currying\uff09\u4ee5\u53ca\u9ad8\u9636\u51fd\u6570\u7684\u4f7f\u7528\u3002\u8fd9\u4e9b\u662f\u7528\u4e8e\u7f16\u5199\u51fd\u6570\u5f0f\u4ee3\u7801\u7684\u7f16\u7a0b\u6280\u672f\u3002 \u5e76\u884c\u53165\uff08parallelization\uff09\u3001\u60f0\u6027\u6c42\u503c6\uff08lazy evaluation\uff09\u548c\u786e\u5b9a\u60277\uff08determinism\uff09\u3002\u8fd9\u4e9b\u662f\u51fd\u6570\u5f0f\u7a0b\u5e8f\u7684\u4f18\u70b9\u3002 \u6838\u5fc3\u601d\u60f3 \u65e0\u89c6\u8fd9\u4e00\u5207\u3002\u51fd\u6570\u5f0f\u4ee3\u7801\u7684\u6838\u5fc3\u7279\u8d28\u5c31\u4e00\u6761\uff1a \u65e0\u526f\u4f5c\u7528\uff08the absence of side effects\uff09 \u3002\u5373\u4ee3\u7801\u903b\u8f91\u4e0d\u4f9d\u8d56\u4e8e\u5f53\u524d\u51fd\u6570\u4e4b\u5916\u7684\u6570\u636e\uff0c\u5e76\u4e14\u4e5f\u4e0d\u4f1a\u66f4\u6539\u5f53\u524d\u51fd\u6570\u4e4b\u5916\u7684\u6570\u636e\u3002\u6240\u6709\u5176\u4ed6\u7684\u300e\u51fd\u6570\u5f0f\u300f\u7279\u8d28\u90fd\u53ef\u4ee5\u4ece\u8fd9\u4e00\u6761\u6d3e\u751f\u51fa\u6765\u3002\u5728\u4f60\u5b66\u4e60\u8fc7\u7a0b\u4e2d\uff0c\u8bf7\u4ee5\u6b64\u4f5c\u4e3a\u6307\u5357\u9488\u3002 \u975e\u51fd\u6570\u5f0f a = 0 def increment(): global a a += 1 \u51fd\u6570\u5f0f def increment(a): return a + 1","title":"\u51fd\u6570\u5f0f\u7f16\u7a0b"},{"location":"python_function_style/#f-string","text":"val = 'Geeks' print(f {val}for{val} is a portal for {val}. ) name = 'Tushar' age = 23 print(f Hello, My name is {name} and I'm {age} years old. )","title":"f-string"}]}